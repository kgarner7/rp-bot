(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{255:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=r.a.memo((function(e){var t,n="".concat(e.id,"Modal");return t="string"==typeof e.body&&e.html?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.body}}):e.body,r.a.createElement("div",{className:"modal fade",id:n,tabIndex:-1,role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-xl",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"".concat(n,"Label")},e.title),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),r.a.createElement("div",{className:"modal-body"},t),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))}));t.a=o},259:function(e,t,n){var a=n(6),r=n(260);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},260:function(e,t,n){"use strict";var a=n(8),r=n(4),o=n(40),i=n(89),l=n(63),c=n(15),s=n(88),u=Object.assign,f=Object.defineProperty;e.exports=!u||r((function(){if(a&&1!==u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=o(u({},t)).join("")}))?function(e,t){for(var n=c(e),r=arguments.length,u=1,f=i.f,d=l.f;r>u;)for(var h,m=s(arguments[u++]),p=f?o(m).concat(f(m)):o(m),y=p.length,b=0;y>b;)h=p[b++],a&&!d.call(m,h)||(n[h]=m[h]);return n}:u},299:function(e,t,n){"use strict";n.r(t);n(38),n(53),n(54),n(85),n(39),n(84),n(87),n(55),n(137),n(259),n(56),n(57),n(138),n(58),n(59),n(60),n(61);var a=n(17),r=n(0),o=n.n(r),i=n(248),l=n(1),c=n(255);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,a,r=d(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={},t.handleCancel=t.handleCancel.bind(m(t)),t.handleChange=t.handleChange.bind(m(t)),t.handleSave=t.handleSave.bind(m(t)),t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){e.user!==this.props.user&&this.setState({room:void 0})}},{key:"render",value:function(){if(!this.props.user)return null;var e=this.state.room||this.props.user.l,t=e===this.props.user.l,n=this.props.options.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}));return o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text"},"Current room: ")),o.a.createElement("select",{className:"custom-select",value:e,onChange:this.handleChange},o.a.createElement("option",null,"Choose a room..."),n),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-success",type:"button",hidden:t,onClick:this.handleSave},"Save"),o.a.createElement("button",{className:"btn btn-outline-warning",type:"button",hidden:t,onClick:this.handleCancel},"Cancel")))}},{key:"handleCancel",value:function(){this.setState({room:void 0})}},{key:"handleChange",value:function(e){this.setState({room:e.target.value})}},{key:"handleSave",value:function(){var e;this.state.room&&this.props.handleChange((null===(e=this.props.user)||void 0===e?void 0:e.l)||"",this.state.room)}}])&&u(t.prototype,n),a&&u(t,a),i}(o.a.PureComponent),b=(n(135),o.a.memo((function(e){var t=e.n;e.l&&(t+=" (in ".concat(e.l,")"));var n=e.i.map((function(e){var t="".concat(e.n," (").concat(e.q||1,"): ").concat(e.d);return e.h&&(t+=" (hidden)"),e.l&&(t+=" (locked)"),o.a.createElement("li",{key:e.n},t)}));return o.a.createElement("div",{className:"card item"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},t),o.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.toggleModal(e.n)}},o.a.createElement("span",null,"^")),o.a.createElement("p",{className:"card-text item"},o.a.createElement("ul",null,n))))}))),v=n(2);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=_(e);if(t){var r=_(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=Object(a.a)((function(){return n.e(10).then(n.bind(null,294))})),P=Object(a.a)((function(){return n.e(6).then(n.bind(null,295))})),R=["lg","md","sm","xs"],x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(s,e);var t,n,a,r=k(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={cols:12,editing:!1,filter:"",sizes:new Map},t.handleCancelEdit=t.handleCancelEdit.bind(N(t)),t.handleItemChange=t.handleItemChange.bind(N(t)),t.handleLayout=t.handleLayout.bind(N(t)),t.handleLocationChange=t.handleLocationChange.bind(N(t)),t.handleNewItem=t.handleNewItem.bind(N(t)),t.handleWidth=t.handleWidth.bind(N(t)),t.toggleModal=t.toggleModal.bind(N(t)),t}return t=s,(n=[{key:"render",value:function(){var e,t,n,a=this,r=[],l=Object(v.c)(this.props),s=0,u=((null===(e=this.props.users)||void 0===e?void 0:e.u)||[]).map((function(e){var t=e.n,n=3,i=4;if(a.state.sizes.has(t)){var l=a.state.sizes.get(t);i=l[0],n=l[1]}return r.push({i:t,x:s,y:0,w:i,h:n}),s=(s+4)%a.state.cols,o.a.createElement("div",{key:e.n},o.a.createElement(b,C({},e,{toggleModal:a.toggleModal})))})),f={},d=E(R);try{for(d.s();!(n=d.n()).done;)f[n.value]=r}catch(e){d.e(e)}finally{d.f()}var h,m,p=this.props.selected?"visible":"invisible",g=[],w="";if(this.state.activeUser&&this.props.users){var S,O=E(this.props.users.u);try{for(O.s();!(S=O.n()).done;){var k=S.value;k.n===this.state.activeUser&&(h=k,w="Editing ".concat(k.n),g=k.i.map((function(e){return o.a.createElement(P,C({key:e.n,handleItemChange:a.handleItemChange},e))})))}}catch(e){O.e(e)}finally{O.f()}}return m=this.state.editing?o.a.createElement(I,{cancelEdit:this.handleCancelEdit,handleItemChange:this.handleItemChange}):o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleNewItem},"Add a new item"),o.a.createElement("div",{className:p},o.a.createElement(i.Responsive,{className:"layout",rowHeight:100,width:l,layouts:f,onLayoutChange:this.handleLayout,onWidthChange:this.handleWidth},u),o.a.createElement(c.a,{body:o.a.createElement(o.a.Fragment,null,o.a.createElement(y,{options:(null===(t=this.props.users)||void 0===t?void 0:t.r)||[],user:h,handleChange:this.handleLocationChange}),o.a.createElement("ul",{className:"list-group"},g,m)),id:"viewUser",title:w}))}},{key:"handleCancelEdit",value:function(){this.setState({editing:!1})}},{key:"handleItemChange",value:function(e,t){void 0===e&&this.setState({editing:!1});var n={n:t,o:e,u:this.state.activeUser||""};this.props.socket.emit(l.y,n)}},{key:"handleLayout",value:function(e){0!==e.length&&this.setState((function(t){var n,a=t.sizes,r=new Map,o=!1,i=E(e);try{for(i.s();!(n=i.n()).done;){var l=n.value,c=a.get(l.i);(void 0===c||c[0]!==l.w||c[1]!==l.h)&&(r.set(l.i,[l.w,l.h]),o=!0)}}catch(e){i.e(e)}finally{i.f()}return o?{sizes:r}:{sizes:a}}))}},{key:"handleLocationChange",value:function(e,t){if(this.state.activeUser){var n={n:t,o:e,u:this.state.activeUser};this.props.socket.emit(l.z,n)}}},{key:"handleNewItem",value:function(){this.setState({editing:!0})}},{key:"handleWidth",value:function(e,t,n){n!==this.state.cols&&this.setState({cols:n})}},{key:"toggleModal",value:function(e){this.setState({activeUser:e}),$("#viewUserModal").modal("show")}}])&&S(t.prototype,n),a&&S(t,a),s}(o.a.Component);t.default=x}}]);