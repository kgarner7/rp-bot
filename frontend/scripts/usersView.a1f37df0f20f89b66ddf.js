(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{248:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=r.a.memo((function(e){var t,n="".concat(e.id,"Modal");return t="string"==typeof e.body&&e.html?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.body}}):e.body,r.a.createElement("div",{className:"modal fade",id:n,tabIndex:-1,role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-xl",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"".concat(n,"Label")},e.title),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},r.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),r.a.createElement("div",{className:"modal-body"},t),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))}));t.a=o},252:function(e,t,n){var a=n(7),r=n(253);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},253:function(e,t,n){"use strict";var a=n(11),r=n(6),o=n(61),i=n(88),l=n(62),c=n(17),s=n(87),u=Object.assign,f=Object.defineProperty;e.exports=!u||r((function(){if(a&&1!==u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=o(u({},t)).join("")}))?function(e,t){for(var n=c(e),r=arguments.length,u=1,f=i.f,d=l.f;r>u;)for(var h,p=s(arguments[u++]),m=f?o(p).concat(f(p)):o(p),y=m.length,b=0;y>b;)h=m[b++],a&&!d.call(p,h)||(n[h]=p[h]);return n}:u},299:function(e,t,n){"use strict";n.r(t);n(50),n(51),n(52),n(85),n(35),n(84),n(86),n(53),n(131),n(252),n(54),n(55),n(132),n(56),n(57),n(58),n(59);var a=n(16),r=n(0),o=n.n(r),i=n(240),l=n(1),c=n(248);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,a,r=d(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={},t.handleCancel=t.handleCancel.bind(p(t)),t.handleChange=t.handleChange.bind(p(t)),t.handleSave=t.handleSave.bind(p(t)),t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){e.user!==this.props.user&&this.setState({room:void 0})}},{key:"render",value:function(){if(!this.props.user)return null;var e=this.state.room||this.props.user.l,t=e===this.props.user.l,n=this.props.options.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}));return o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"input-group-text"},"Current room: ")),o.a.createElement("select",{className:"custom-select",value:e,onChange:this.handleChange},o.a.createElement("option",null,"Choose a room..."),n),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-success",type:"button",hidden:t,onClick:this.handleSave},"Save"),o.a.createElement("button",{className:"btn btn-outline-warning",type:"button",hidden:t,onClick:this.handleCancel},"Cancel")))}},{key:"handleCancel",value:function(){this.setState({room:void 0})}},{key:"handleChange",value:function(e){this.setState({room:e.target.value})}},{key:"handleSave",value:function(){var e;this.state.room&&this.props.handleChange((null===(e=this.props.user)||void 0===e?void 0:e.l)||"",this.state.room)}}])&&u(t.prototype,n),a&&u(t,a),i}(o.a.PureComponent),b=(n(129),o.a.memo((function(e){var t=e.n;e.l&&(t+=" (in ".concat(e.l,")"));var n=e.i.map((function(e){var t="".concat(e.n," (").concat(e.q||1,"): ").concat(e.d);return e.h&&(t+=" (hidden)"),e.l&&(t+=" (locked)"),o.a.createElement("li",{key:e.n},t)}));return o.a.createElement("div",{className:"card item"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},t),o.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.toggleModal(e.n)}},o.a.createElement("span",null,"^")),o.a.createElement("p",{className:"card-text item"},o.a.createElement("ul",null,n))))})));function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,o=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw r}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=Object(a.a)((function(){return n.e(9).then(n.bind(null,294))})),I=Object(a.a)((function(){return n.e(5).then(n.bind(null,295))})),P=["lg","md","sm","xs"],R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,n,a,r=O(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={cols:12,editing:!1,filter:"",sizes:new Map},t.handleCancelEdit=t.handleCancelEdit.bind(N(t)),t.handleItemChange=t.handleItemChange.bind(N(t)),t.handleLayout=t.handleLayout.bind(N(t)),t.handleLocationChange=t.handleLocationChange.bind(N(t)),t.handleNewItem=t.handleNewItem.bind(N(t)),t.handleWidth=t.handleWidth.bind(N(t)),t.toggleModal=t.toggleModal.bind(N(t)),t}return t=s,(n=[{key:"render",value:function(){var e,t,n,a=this,r=[],l=this.props.width-(this.props.sidebar?200:0),s=0,u=((null===(e=this.props.users)||void 0===e?void 0:e.u)||[]).map((function(e){var t=e.n,n=3,i=4;if(a.state.sizes.has(t)){var l=a.state.sizes.get(t);i=l[0],n=l[1]}return r.push({i:t,x:s,y:0,w:i,h:n}),s=(s+4)%a.state.cols,o.a.createElement("div",{key:e.n},o.a.createElement(b,w({},e,{toggleModal:a.toggleModal})))})),f={},d=g(P);try{for(d.s();!(n=d.n()).done;)f[n.value]=r}catch(e){d.e(e)}finally{d.f()}var h,p,m=this.props.selected?"visible":"invisible",v=[],E="";if(this.state.activeUser&&this.props.users){var C,S=g(this.props.users.u);try{for(S.s();!(C=S.n()).done;){var O=C.value;O.n===this.state.activeUser&&(h=O,E="Editing ".concat(O.n),v=O.i.map((function(e){return o.a.createElement(I,w({key:e.n,handleItemChange:a.handleItemChange},e))})))}}catch(e){S.e(e)}finally{S.f()}}return p=this.state.editing?o.a.createElement(_,{cancelEdit:this.handleCancelEdit,handleItemChange:this.handleItemChange}):o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleNewItem},"Add a new item"),o.a.createElement("div",{className:m},o.a.createElement(i.Responsive,{className:"layout",rowHeight:100,width:l,layouts:f,onLayoutChange:this.handleLayout,onWidthChange:this.handleWidth},u),o.a.createElement(c.a,{body:o.a.createElement(o.a.Fragment,null,o.a.createElement(y,{options:(null===(t=this.props.users)||void 0===t?void 0:t.r)||[],user:h,handleChange:this.handleLocationChange}),o.a.createElement("ul",{className:"list-group"},v,p)),id:"viewUser",title:E}))}},{key:"handleCancelEdit",value:function(){this.setState({editing:!1})}},{key:"handleItemChange",value:function(e,t){void 0===e&&this.setState({editing:!1});var n={n:t,o:e,u:this.state.activeUser||""};this.props.socket.emit(l.y,n)}},{key:"handleLayout",value:function(e){0!==e.length&&this.setState((function(t){var n,a=t.sizes,r=new Map,o=!1,i=g(e);try{for(i.s();!(n=i.n()).done;){var l=n.value,c=a.get(l.i);(void 0===c||c[0]!==l.w||c[1]!==l.h)&&(r.set(l.i,[l.w,l.h]),o=!0)}}catch(e){i.e(e)}finally{i.f()}return o?{sizes:r}:{sizes:a}}))}},{key:"handleLocationChange",value:function(e,t){if(this.state.activeUser){var n={n:t,o:e,u:this.state.activeUser};this.props.socket.emit(l.z,n)}}},{key:"handleNewItem",value:function(){this.setState({editing:!0})}},{key:"handleWidth",value:function(e,t,n){n!==this.state.cols&&this.setState({cols:n})}},{key:"toggleModal",value:function(e){this.setState({activeUser:e}),$("#viewUserModal").modal("show")}}])&&C(t.prototype,n),a&&C(t,a),s}(o.a.Component);t.default=R}}]);