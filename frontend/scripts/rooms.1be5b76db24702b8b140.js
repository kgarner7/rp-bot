(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{279:function(t,e,n){"use strict";var r,o,a=n(152),i=n(283),l=RegExp.prototype.exec,c=String.prototype.replace,s=l,u=(r=/a/,o=/b*/g,l.call(r,"a"),l.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||f)&&(s=function(t){var e,n,r,o,i=this,s=f&&i.sticky,p=a.call(i),d=i.source,m=0,v=t;return s&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,m++),n=new RegExp("^(?:"+d+")",p)),h&&(n=new RegExp("^"+d+"$(?!\\s)",p)),u&&(e=i.lastIndex),r=l.call(s?n:i,v),s?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:u&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),h&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=s},280:function(t,e,n){"use strict";var r=n(5),o=n(279);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},283:function(t,e,n){"use strict";var r=n(6);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},284:function(t,e,n){"use strict";n(280);var r=n(18),o=n(6),a=n(4),i=n(279),l=n(17),c=a("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u="$0"==="a".replace(/./,"$0"),f=a("replace"),h=!!/./[f]&&""===/./[f]("a","$0"),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var d=a(t),m=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=m&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!m||!v||"replace"===t&&(!s||!u||h)||"split"===t&&!p){var y=/./[d],g=n(d,""[t],(function(t,e,n,r,o){return e.exec===i?m&&!o?{done:!0,value:y.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=g[0],E=g[1];r(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return E.call(t,this,e)}:function(t){return E.call(t,this)})}f&&l(RegExp.prototype[d],"sham",!0)}},285:function(t,e,n){"use strict";var r=n(162).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},286:function(t,e,n){var r=n(19),o=n(279);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},287:function(t,e,n){"use strict";var r=n(284),o=n(154),a=n(9),i=n(52),l=n(161),c=n(285),s=n(14),u=n(286),f=n(279),h=n(6),p=[].push,d=Math.min,m=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(i(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,a);for(var l,c,s,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,m=new RegExp(t.source,h+"g");(l=f.call(m,r))&&!((c=m.lastIndex)>d&&(u.push(r.slice(d,l.index)),l.length>1&&l.index<r.length&&p.apply(u,l.slice(1)),s=l[0].length,d=c,u.length>=a));)m.lastIndex===l.index&&m.lastIndex++;return d===r.length?!s&&m.test("")||u.push(""):u.push(r.slice(d)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=i(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,o,n):r.call(String(o),e,n)},function(t,o){var i=n(r,t,this,o,r!==e);if(i.done)return i.value;var f=a(t),h=String(this),p=l(f,RegExp),v=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),g=new p(m?f:"^(?:"+f.source+")",y),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===h.length)return null===u(g,h)?[h]:[];for(var E=0,S=0,x=[];S<h.length;){g.lastIndex=m?S:0;var O,_=u(g,m?h:h.slice(S));if(null===_||(O=d(s(g.lastIndex+(m?0:S)),h.length))===E)S=c(h,S,v);else{if(x.push(h.slice(E,S)),x.length===b)return x;for(var w=1;w<=_.length-1;w++)if(x.push(_[w]),x.length===b)return x;S=E=O}}return x.push(h.slice(E)),x}]}),!m)},294:function(t,e,n){var r=n(11),o=n(3),a=n(73),i=n(159),l=n(10).f,c=n(72).f,s=n(154),u=n(152),f=n(283),h=n(18),p=n(6),d=n(26).set,m=n(104),v=n(4)("match"),y=o.RegExp,g=y.prototype,b=/a/g,E=/a/g,S=new y(b)!==b,x=f.UNSUPPORTED_Y;if(r&&a("RegExp",!S||x||p((function(){return E[v]=!1,y(b)!=b||y(E)==E||"/a/i"!=y(b,"i")})))){for(var O=function(t,e){var n,r=this instanceof O,o=s(t),a=void 0===e;if(!r&&o&&t.constructor===O&&a)return t;S?o&&!a&&(t=t.source):t instanceof O&&(a&&(e=u.call(t)),t=t.source),x&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var l=i(S?new y(t,e):y(t,e),r?this:g,O);return x&&n&&d(l,{sticky:n}),l},_=function(t){t in O||l(O,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},w=c(y),A=0;w.length>A;)_(w[A++]);g.constructor=O,O.prototype=g,h(o,"RegExp",O)}m("RegExp")},295:function(t,e,n){"use strict";var r,o=n(5),a=n(38).f,i=n(14),l=n(153),c=n(52),s=n(155),u=n(27),f="".endsWith,h=Math.min,p=s("endsWith");o({target:"String",proto:!0,forced:!!(u||p||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!p},{endsWith:function(t){var e=String(c(this));l(t);var n=arguments.length>1?arguments[1]:void 0,r=i(e.length),o=void 0===n?r:h(i(n),r),a=String(t);return f?f.call(e,a,o):e.slice(o-a.length,o)===a}})},296:function(t,e,n){"use strict";var r=n(284),o=n(9),a=n(15),i=n(14),l=n(55),c=n(52),s=n(285),u=n(286),f=Math.max,h=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(n,r){var o=c(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!v&&y||"string"==typeof r&&-1===r.indexOf(g)){var a=n(e,t,this,r);if(a.done)return a.value}var c=o(t),p=String(this),d="function"==typeof r;d||(r=String(r));var m=c.global;if(m){var E=c.unicode;c.lastIndex=0}for(var S=[];;){var x=u(c,p);if(null===x)break;if(S.push(x),!m)break;""===String(x[0])&&(c.lastIndex=s(p,i(c.lastIndex),E))}for(var O,_="",w=0,A=0;A<S.length;A++){x=S[A];for(var R=String(x[0]),N=f(h(l(x.index),p.length),0),I=[],P=1;P<x.length;P++)I.push(void 0===(O=x[P])?O:String(O));var T=x.groups;if(d){var C=[R].concat(I,N,p);void 0!==T&&C.push(T);var j=String(r.apply(void 0,C))}else j=b(R,p,N,I,T,r);N>=w&&(_+=p.slice(w,N)+j,w=N+R.length)}return _+p.slice(w)}];function b(t,n,r,o,i,l){var c=r+t.length,s=o.length,u=m;return void 0!==i&&(i=a(i),u=d),e.call(l,u,(function(e,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":l=i[a.slice(1,-1)];break;default:var u=+a;if(0===u)return e;if(u>s){var f=p(u/10);return 0===f?e:f<=s?void 0===o[f-1]?a.charAt(1):o[f-1]+a.charAt(1):e}l=o[u-1]}return void 0===l?"":l}))}}))},297:function(t,e,n){"use strict";var r=n(5),o=n(157).includes,a=n(158);r({target:"Array",proto:!0,forced:!n(54)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},298:function(t,e,n){"use strict";var r=n(5),o=n(153),a=n(52);r({target:"String",proto:!0,forced:!n(155)("includes")},{includes:function(t){return!!~String(a(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},304:function(t,e,n){"use strict";n.r(e);n(22),n(23),n(30),n(68),n(50),n(24),n(278),n(49),n(51),n(149),n(25),n(101),n(35),n(36),n(31),n(37),n(294),n(280),n(32),n(295),n(33),n(296),n(287),n(151),n(34);var r=n(0),o=n.n(r),a=n(105),i=n(102),l=n(1),c=(n(69),o.a.memo((function(t){var e="".concat(t.isAuthor?"right":"left"," alert alert-primary"),n=t.isAuthor?"You":t.author,r=new Date(t.time).toLocaleString("en-US");return o.a.createElement("div",{className:e},o.a.createElement("div",{className:"msg-header"},n," ",o.a.createElement("span",null,"(",r,")")),o.a.createElement("div",null,t.content))})));function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var e,n,r,a=h(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={},e.messages=o.a.createRef(),e.handleScroll=e.handleScroll.bind(d(e)),e.scroll=-1,e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=-1===this.scroll?this.messages.current.scrollHeight:this.scroll;this.messages.current.scrollTo(0,t)}},{key:"componentDidUpdate",value:function(){-1===this.scroll&&this.messages.current.scrollTo(0,this.messages.current.scrollHeight)}},{key:"render",value:function(){var t=this,e=this.props.archive.concat(this.props.messages).map((function(e){var n=t.props.username===e.author;return o.a.createElement("div",{key:e.id},o.a.createElement(c,{isAuthor:n,author:e.author,content:e.content,time:e.time}))}));return o.a.createElement("div",{className:"card room"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},this.props.name," (",this.props.section,")"),o.a.createElement("button",{type:"button",className:"close",onClick:function(){return t.props.toggleModal(t.props.id)}},o.a.createElement("span",null,"^")),o.a.createElement("div",{className:"card-text",ref:this.messages,onScroll:this.handleScroll},e)))}},{key:"handleScroll",value:function(){var t=this.messages.current;this.scroll=t.scrollTop===t.scrollTopMax?-1:t.scrollTop}}])&&u(e.prototype,n),r&&u(e,r),i}(o.a.PureComponent);n(297),n(298);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var A=[];function R(t,e){if(0===t.length)return!0;var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.startsWith("a:")){var a=o.substring(2);if(e.author.startsWith(a))return!0}else if(e.content.includes(o))return!0}}catch(t){r.e(t)}finally{r.f()}return!1}var N,I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(l,t);var e,n,r,a=E(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this,t)).state={filter:""},e.handleFilter=e.handleFilter.bind(x(e)),e}return e=l,(n=[{key:"render",value:function(){var t,e,n=this,r=this.props.rooms.get(this.props.roomId);r?(t=r.archive,e=r.messages):(t=[],e=[]);var a,l,s=this.state.filter.split(",").filter((function(t){return t.length>0})),u=[],f=_(t);try{for(f.s();!(a=f.n()).done;){var h=a.value,p=this.props.username===h.author;R(s,h)&&u.push(o.a.createElement(c,{key:h.id,isAuthor:p,author:h.author,content:h.content,time:h.time}))}}catch(t){f.e(t)}finally{f.f()}t.length>0&&u.push(o.a.createElement("hr",{key:"hr",className:"bg-dark"})),r&&r.hasArchive||(l=o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return n.props.getLogs(n.props.roomId)}},"Get logs"));var d,m,v=_(e);try{for(v.s();!(d=v.n()).done;){var y=d.value,g=this.props.username===y.author;R(s,y)&&u.push(o.a.createElement(c,{key:y.id,isAuthor:g,author:y.author,content:y.content,time:y.time}))}}catch(t){v.e(t)}finally{v.f()}(u.length>0||""!==this.state.filter)&&(m=o.a.createElement(i.a,{name:this.props.roomId,filter:this.state.filter,handleFilter:this.handleFilter,options:A,placeholder:"Enter text to search, or a: to find a sender"}));var b=u.length>0?o.a.createElement("hr",{className:"bg-dark"}):void 0;return o.a.createElement("div",{className:"modal fade",id:"roomsModal",tabIndex:-1,role:"dialog"},o.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"roomsModalLabel"},null==r?void 0:r.name," (",null==r?void 0:r.section,")"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},o.a.createElement("span",{"aria-hidden":"true"},"×"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:(null==r?void 0:r.description)||""}}),o.a.createElement("hr",{className:"bg-dark"}),m,b,o.a.createElement("div",{className:"messages"},u)),o.a.createElement("div",{className:"modal-footer"},l,o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))}},{key:"handleFilter",value:function(t){this.setState({filter:t.target.value})}}])&&g(e.prototype,n),r&&g(e,r),l}(o.a.PureComponent);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?D(t):e}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.NONE="none",t.NEWEST_MESSAGES="ztoa-t",t.OLDEST_MESSAGES="atoz-t",t.ALPHA_INC_SECTION="atoz-s",t.ALPHA_DEC_SECTION="ztoa-s",t.ALPHA_INC_ROOM="atoz-r",t.ALPHA_DEC_ROOM="ztoa-r"}(N||(N={}));var W=[[N.NONE,"none"],[N.NEWEST_MESSAGES,"Recent messages"],[N.OLDEST_MESSAGES,"Older messages"],[N.ALPHA_INC_SECTION,"A to Z (by section)"],[N.ALPHA_DEC_SECTION,"Z to A (by section)"],[N.ALPHA_INC_ROOM,"A to Z (by room)"],[N.ALPHA_DEC_ROOM,"Z to A (by room)"]],z=["lg","md","sm","xs","xxs"],F={lg:12,md:10,sm:6,xs:6,xxs:6};function H(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function G(t){return new RegExp("^".concat(t.split("*").map(H).join(".*"),".*"))}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(s,t);var e,n,r,c=M(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=c.call(this,t)).state={cols:12,filter:"",roomId:void 0,sizes:new Map,sort:N.NEWEST_MESSAGES},e.handleFilter=e.handleFilter.bind(D(e)),e.handleLayout=e.handleLayout.bind(D(e)),e.toggleModal=e.toggleModal.bind(D(e)),e.handleSort=e.handleSort.bind(D(e)),e.handleWidth=e.handleWidth.bind(D(e)),e}return e=s,(n=[{key:"render",value:function(){var t=this,e=[],n=this.props.width-(this.props.sidebar?200:0),r=0,c=0,s=Array.from(this.props.rooms.entries()),u=this.state.sort;if(""!==this.state.filter){var f=this.state.filter.split(",").filter((function(t){return t.replace("s:","").length>0})).map(G);s=s.filter((function(t){var e,n=T(f);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.test(t[1].name)||r.test("s:".concat(t[1].section)))return!0}}catch(t){n.e(t)}finally{n.f()}return!1}))}if(u!==N.NONE){var h=u.startsWith("atoz")?1:-1;s=s.sort((function(t,e){var n=t[1],r=e[1];return u.endsWith("-s")?Object(l.b)(n.section,r.section,h):u.endsWith("-r")?Object(l.b)(n.name,r.name,h):Object(l.b)(n.updatedAt,r.updatedAt,h)}))}var p,d=s.map((function(n){var a=n[1].name,i=4,l=6;if(t.state.sizes.has(a)){var s=t.state.sizes.get(a);l=s[0],i=s[1]}return e.push({i:a,x:r,y:c,w:l,h:i}),(r+=6)>=t.state.cols&&(r=0,c++),o.a.createElement("div",{key:a},o.a.createElement(v,{archive:n[1].archive,id:n[0],section:n[1].section,description:n[1].description,name:a,messages:n[1].messages,username:t.props.username,toggleModal:t.toggleModal}))})),m={},y=T(z);try{for(y.s();!(p=y.n()).done;)m[p.value]=e}catch(t){y.e(t)}finally{y.f()}var g=this.props.selected?"visible":"invisible";return o.a.createElement("div",{className:g},o.a.createElement(i.a,{filter:this.state.filter,handleFilter:this.handleFilter,options:W,handleSort:this.handleSort,placeholder:"a room name, sector (s:), wildcard (*), or list (comma separated)",name:"rooms"}),o.a.createElement(a.Responsive,{className:"layout rooms mt-4",rowHeight:60,width:n,layouts:m,onLayoutChange:this.handleLayout,onWidthChange:this.handleWidth,cols:F},d),o.a.createElement(I,{getLogs:this.props.getLogs,roomId:this.state.roomId||"",rooms:this.props.rooms,username:this.props.username}))}},{key:"handleFilter",value:function(t){this.setState({filter:t.target.value})}},{key:"handleLayout",value:function(t){0!==t.length&&this.setState((function(e){var n,r=e.sizes,o=new Map,a=!1,i=T(t);try{for(i.s();!(n=i.n()).done;){var l=n.value,c=r.get(l.i);(void 0===c||c[0]!==l.w||c[1]!==l.h)&&(o.set(l.i,[l.w,l.h]),a=!0)}}catch(t){i.e(t)}finally{i.f()}return a?{sizes:o}:{sizes:r}}))}},{key:"toggleModal",value:function(t){this.setState({roomId:t}),$("#roomsModal").modal("show")}},{key:"handleSort",value:function(t){this.setState({sort:t})}},{key:"handleWidth",value:function(t,e,n){n!==this.state.cols&&this.setState({cols:n})}}])&&j(e.prototype,n),r&&j(e,r),s}(o.a.PureComponent);e.default=B}}]);