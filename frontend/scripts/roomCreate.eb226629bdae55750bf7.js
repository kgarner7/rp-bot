(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{302:function(e,t,n){"use strict";n.r(t),n.d(t,"RoomCreate",(function(){return A}));n(38),n(53),n(54),n(135),n(86),n(146),n(39),n(84),n(55),n(147),n(148),n(56),n(149),n(57),n(58),n(59),n(60),n(150),n(61);var a=n(0),o=n.n(a),i=n(250),r=(n(269),n(247),n(265),n(267)),s=n(262),c=(n(258),n(270),n(275));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u,p,h,b=function(e,t){void 0===e&&(e="");var n=String(e).toLowerCase(),a=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return a===n||o===n},f=l({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return b(e,t)}))||n.some((function(t){return b(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),m=(u=s.a,h=p=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this).select=void 0,n.onChange=function(e,t){var a=n.props,o=a.getNewOptionData,i=a.inputValue,s=a.isMulti,c=a.onChange,l=a.onCreateOption,u=a.value,p=a.name;if("select-option"!==t.action)return c(e,t);var h=n.state.newOption,b=Array.isArray(e)?e:[e];if(b[b.length-1]!==h)c(e,t);else if(l)l(i);else{var f=o(i,i),m={action:"create-option",name:p};c(s?[].concat(Object(r.e)(u),[f]):f,m)}};var a=t.options||[];return n.state={newOption:void 0,options:a},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.UNSAFE_componentWillReceiveProps=function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,a=e.formatCreateLabel,o=e.getNewOptionData,i=e.inputValue,s=e.isLoading,c=e.isValidNewOption,l=e.value,u=e.options||[],p=this.state.newOption;p=c(i,Object(r.e)(l),u)?o(i,a(i)):void 0,this.setState({newOption:p,options:!t&&s||!p?u:"first"===n?[p].concat(u):[].concat(u,[p])})},i.focus=function(){this.select.focus()},i.blur=function(){this.select.blur()},i.render=function(){var e=this,t=this.state.options;return o.a.createElement(u,l({},this.props,{ref:function(t){e.select=t},options:t,onChange:this.onChange}))},a}(a.Component),p.defaultProps=f,h),d=Object(c.a)(m),y=n(1);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=["#1ABC9C","#2ECC71","#3498DB","#9B59B6","#E91E63","#11806A","#1F8B4C","#206694","#71368A","#AD1457","#F1C40F","#E67E22","#E74C3C","#95A5A6","#607D8B","#C27C0E","#A84300","#992D22","#979C9F","#546E7A"],_={r:52,g:152,b:182},D={option:function(e,t){return S(S({},e),{},{color:t.isSelected?"black":"blue"})}},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,n,a,r=w(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={color:_},t.handleChange=t.handleChange.bind(E(t)),t.handleChangeComplete=t.handleChangeComplete.bind(E(t)),t.handleCreate=t.handleCreate.bind(E(t)),t.handleColor=t.handleColor.bind(E(t)),t.handleSelectChange=t.handleSelectChange.bind(E(t)),t.handleVisibilityChange=t.handleVisibilityChange.bind(E(t)),t}return t=s,(n=[{key:"componentDidUpdate",value:function(e){this.props.rooms!==e.rooms&&this.setState({color:_,description:"",name:"",section:"",showColor:!1,visibility:void 0})}},{key:"render",value:function(){var e=this.props.sections.map((function(e){return{label:e,value:e}})),t=this.state.section?{label:this.state.section,value:this.state.section}:null,n="rgb(".concat(this.state.color.r,",").concat(this.state.color.g,",").concat(this.state.color.b,")"),a=this.state.description&&this.state.name&&this.state.section&&this.state.visibility;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-group mb-4"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},"Name and section")),o.a.createElement("input",{className:"form-control",onChange:this.handleChange,name:"n",placeholder:"name",type:"text",value:this.state.name}),o.a.createElement("div",{className:"input-group-btn btn-group-toggle","data-toggle":"buttons"},o.a.createElement("label",{className:"btn btn-primary".concat("publicW"===this.state.visibility?" active":""),id:"publicW",onClick:this.handleVisibilityChange},o.a.createElement("input",{type:"radio",name:"v"}),"Publically writeable"),o.a.createElement("label",{className:"btn btn-primary".concat("publicR"===this.state.visibility?" active":""),id:"publicR",onClick:this.handleVisibilityChange},o.a.createElement("input",{type:"radio",name:"v"}),"Publically readable"),o.a.createElement("label",{className:"btn btn-primary".concat("private"===this.state.visibility?" active":""),id:"private",onClick:this.handleVisibilityChange},o.a.createElement("input",{type:"radio",name:"v"}),"Private"))),o.a.createElement("div",{className:"row mb-4"},o.a.createElement(d,{placeholder:"Select or create section",className:"col-8",isClearable:!0,onChange:this.handleSelectChange,options:e,value:t,styles:D}),o.a.createElement("div",{className:"col-4"},o.a.createElement("button",{className:"btn col-12",onClick:this.handleColor,style:{backgroundColor:n}},"Set color"),this.state.showColor&&o.a.createElement("div",{className:"popover custom"},o.a.createElement("div",{className:"cover",onClick:this.handleColor}),o.a.createElement(i.BlockPicker,{color:this.state.color,colors:P,onChangeComplete:this.handleChangeComplete})))),o.a.createElement("div",{className:"input-group mb-4"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},"Description")),o.a.createElement("textarea",{className:"form-control",name:"d",onChange:this.handleChange,placeholder:"Description",rows:2,value:this.state.description}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:"h",checked:this.state.history,onChange:this.handleChange})," Allow viewing history")))),o.a.createElement("button",{type:"button",className:"btn btn-primary col-12",onClick:this.handleCreate,disabled:!a},"Create room"))}},{key:"handleChange",value:function(e){switch(e.target.name){case"d":this.setState({description:e.target.value});break;case"h":this.setState({history:e.target.checked});break;case"n":this.setState({name:e.target.value})}}},{key:"handleChangeComplete",value:function(e){this.setState({color:e.rgb})}},{key:"handleColor",value:function(){this.setState((function(e){return{showColor:!e.showColor}}))}},{key:"handleCreate",value:function(){if(this.state.description&&this.state.name&&this.state.section&&this.state.visibility){var e={c:[this.state.color.r,this.state.color.g,this.state.color.b],d:this.state.description,h:this.state.history,n:this.state.name,s:this.state.section,v:this.state.visibility};this.props.socket.emit(y.n,e)}else alert("Make sure you provide a description, name, section, and visibility")}},{key:"handleSelectChange",value:function(e){e&&this.setState({section:e.value})}},{key:"handleVisibilityChange",value:function(e){e.currentTarget&&this.setState({visibility:e.currentTarget.id})}}])&&g(t.prototype,n),a&&g(t,a),s}(o.a.PureComponent);t.default=A}}]);