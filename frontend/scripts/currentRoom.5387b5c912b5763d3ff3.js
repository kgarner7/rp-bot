(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{303:function(e,t,n){"use strict";n(22),n(23),n(30),n(24),n(278),n(25),n(35),n(36),n(31),n(37),n(32),n(33),n(34);var o=n(0),r=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,o,a=l(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state={d:"",n:""},t.handleCancel=t.handleCancel.bind(p(t)),t.handleChange=t.handleChange.bind(p(t)),t.handleSave=t.handleSave.bind(p(t)),t}return t=u,(n=[{key:"render",value:function(){var e=this.state.d.length>0&&(this.state.q||1)>0&&this.state.n.length>0;return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{placeholder:"Item name",type:"text",className:"form-control",name:"n",value:this.state.n,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"Item quantity",type:"number",className:"form-control",name:"q",value:this.state.q,onChange:this.handleChange,min:1}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("input",{type:"checkbox",name:"h",checked:this.state.h,onChange:this.handleChange})," Hidden"),r.a.createElement("span",{className:"input-group-text"},r.a.createElement("input",{type:"checkbox",name:"l",checked:this.state.l,onChange:this.handleChange})," Locked"))),r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("textarea",{placeholder:"Description",className:"form-control",value:this.state.d,name:"d",rows:2,onChange:this.handleChange}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{hidden:!e,className:"btn btn-outline-success",type:"button",onClick:this.handleSave},"Save"),r.a.createElement("button",{className:"btn btn-outline-warning",type:"button",onClick:this.handleCancel},"Cancel"))))}},{key:"handleCancel",value:function(){this.props.cancelEdit()}},{key:"handleChange",value:function(e){var t=e.target.name;switch(t){case"d":case"n":this.setState(i({},t,e.target.value));break;case"h":case"l":this.setState(i({},t,e.target.checked));break;case"q":this.setState({q:e.target.valueAsNumber})}}},{key:"handleSave",value:function(){var e=[];0===this.state.d.length&&e.push("No description provided"),(this.state.q||1)<1&&e.push("Cannot have less than one item"),e.length>0?alert("Failed to save item:\n".concat(e.join("\n"))):this.props.handleItemChange(void 0,this.state)}}])&&c(t.prototype,n),o&&c(t,o),u}(r.a.PureComponent);t.a=m},317:function(e,t,n){"use strict";n.r(t),n.d(t,"CurrentRooms",(function(){return ne}));n(22),n(23),n(30),n(68),n(288),n(50),n(24),n(49),n(149),n(25),n(289),n(290),n(35),n(291),n(36),n(31),n(37),n(32),n(472),n(33),n(292),n(34);var o=n(0),r=n.n(o),a=n(316),i=n(2),c=n(144),s=n(303),l=n(143),u=n(1),p=(n(69),n(357)),h=n(315);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=["#1ABC9C","#2ECC71","#3498DB","#9B59B6","#E91E63","#11806A","#1F8B4C","#206694","#71368A","#AD1457","#F1C40F","#E67E22","#E74C3C","#95A5A6","#607D8B","#C27C0E","#A84300","#992D22","#979C9F","#546E7A"],O={r:52,g:152,b:182},S={option:function(e,t){return E(E({},e),{},{color:t.isSelected?"black":"blue"})}},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,o,a=b(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={color:O},t.handleChange=t.handleChange.bind(v(t)),t.handleChangeComplete=t.handleChangeComplete.bind(v(t)),t.handleCreate=t.handleCreate.bind(v(t)),t.handleColor=t.handleColor.bind(v(t)),t.handleSelectChange=t.handleSelectChange.bind(v(t)),t.handleVisibilityChange=t.handleVisibilityChange.bind(v(t)),t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){this.props.rooms!==e.rooms&&this.setState({color:O,description:void 0,name:void 0,section:void 0,showColor:!1,visibility:void 0})}},{key:"render",value:function(){var e=this.props.sections.map((function(e){return{label:e,value:e}})),t=this.state.section?{label:this.state.section,value:this.state.section}:void 0,n="rgb(".concat(this.state.color.r,",").concat(this.state.color.g,",").concat(this.state.color.b,")"),o=this.state.description&&this.state.name&&this.state.section&&this.state.visibility;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Name and section")),r.a.createElement("input",{className:"form-control",onChange:this.handleChange,name:"n",placeholder:"name",type:"text",value:this.state.name}),r.a.createElement("div",{className:"input-group-btn btn-group-toggle","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-primary",id:"publicW",onClick:this.handleVisibilityChange},r.a.createElement("input",{type:"radio",name:"v"}),"Publically writeable"),r.a.createElement("label",{className:"btn btn-primary",id:"publicR",onClick:this.handleVisibilityChange},r.a.createElement("input",{type:"radio",name:"v"}),"Publically readable"),r.a.createElement("label",{className:"btn btn-primary",id:"private",onClick:this.handleVisibilityChange},r.a.createElement("input",{type:"radio",name:"v"}),"Private"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement(h.a,{placeholder:"Select or create section",className:"col-8",isClearable:!0,onChange:this.handleSelectChange,options:e,value:t,styles:S}),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{className:"btn col-12",onClick:this.handleColor,style:{backgroundColor:n}},"Set color"),this.state.showColor&&r.a.createElement("div",{className:"popover custom"},r.a.createElement("div",{className:"cover",onClick:this.handleColor}),r.a.createElement(p.BlockPicker,{color:this.state.color,colors:k,onChangeComplete:this.handleChangeComplete})))),r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Description")),r.a.createElement("textarea",{className:"form-control",name:"d",onChange:this.handleChange,placeholder:"Description",rows:2,value:this.state.description}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"h",checked:this.state.history,onChange:this.handleChange})," Allow viewing history")))),r.a.createElement("button",{type:"button",className:"btn btn-primary col-12",onClick:this.handleCreate,disabled:!o},"Create room"))}},{key:"handleChange",value:function(e){switch(e.target.name){case"d":this.setState({description:e.target.value});break;case"h":this.setState({history:e.target.checked});break;case"n":this.setState({name:e.target.value})}}},{key:"handleChangeComplete",value:function(e){this.setState({color:e.rgb})}},{key:"handleColor",value:function(){this.setState((function(e){return{showColor:!e.showColor}}))}},{key:"handleCreate",value:function(){if(this.state.description&&this.state.name&&this.state.section&&this.state.visibility){var e={c:[this.state.color.r,this.state.color.g,this.state.color.b],d:this.state.description,h:this.state.history,n:this.state.name,s:this.state.section,v:this.state.visibility};this.props.socket.emit(i.h,e)}else alert("Make sure you provide a description, name, section, and visibility")}},{key:"handleSelectChange",value:function(e){e&&this.setState({section:e.value})}},{key:"handleVisibilityChange",value:function(e){this.setState({visibility:e.target.id})}}])&&f(t.prototype,n),o&&f(t,o),c}(r.a.Component);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=I(e);if(t){var r=I(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,o,a=_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={},t.handleCancel=t.handleCancel.bind(R(t)),t.handleChange=t.handleChange.bind(R(t)),t.handleDelete=t.handleDelete.bind(R(t)),t.handleEdit=t.handleEdit.bind(R(t)),t.handleSave=t.handleSave.bind(R(t)),t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t;this.props.room&&this.props.room.description!==(null===(t=e.room)||void 0===t?void 0:t.description)&&this.setState({description:void 0,editing:!1})}},{key:"render",value:function(){if(!this.props.room)return null;var e="input-group mb-4 ";if(this.props.admin?e+="col-lg-8 col-xs-12":e+="col-12",this.props.admin){if(this.state.editing){var t=this.state.description&&this.state.description!==this.props.room.description;return r.a.createElement("div",{className:e},r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,value:this.state.description||this.props.room.description}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-success",hidden:!t,onClick:this.handleSave,type:"button"},"Save"),r.a.createElement("button",{className:"btn btn-outline-warning",onClick:this.handleCancel,type:"button"},"Cancel edit")))}return r.a.createElement("div",{className:e},r.a.createElement("textarea",{className:"form-control",value:this.props.room.description,disabled:!0}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleEdit,type:"button"},"Edit description"),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:this.handleDelete,type:"button"},"Delete room")))}return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"form-control"},this.props.room.description))}},{key:"handleCancel",value:function(){this.setState({description:void 0,editing:!1})}},{key:"handleChange",value:function(e){this.setState({description:e.target.value})}},{key:"handleDelete",value:function(){if(this.props.room){var e="Are you sure you want to delete the room ".concat(this.props.room.name,"?");confirm(e)&&this.props.delete(this.props.room.id)}}},{key:"handleEdit",value:function(){this.setState({editing:!0})}},{key:"handleSave",value:function(){this.props.room&&this.state.description&&this.props.newDescription(this.props.room.id,this.props.room.description,this.state.description)}}])&&P(t.prototype,n),o&&P(t,o),i}(r.a.PureComponent);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=z(e);if(t){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,o,a=q(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={},t.handleCancel=t.handleCancel.bind(V(t)),t.handleChange=t.handleChange.bind(V(t)),t.handleEdit=t.handleEdit.bind(V(t)),t.handleSave=t.handleSave.bind(V(t)),t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t;this.props.room&&this.props.room.name!==(null===(t=e.room)||void 0===t?void 0:t.name)&&this.setState({name:void 0,editing:!1})}},{key:"render",value:function(){if(!this.props.room)return null;if(this.state.editing){var e=this.state.name&&this.state.name!==this.props.room.name;return r.a.createElement("div",{className:"input-group col-lg-4 col-xs-12 mb-4"},r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,value:this.state.name||this.props.room.name}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-success",hidden:!e,onClick:this.handleSave,type:"button"},"Save"),r.a.createElement("button",{className:"btn btn-outline-warning",onClick:this.handleCancel,type:"button"},"Cancel edit")))}return r.a.createElement("div",{className:"input-group col-lg-4 col-xs-12 mb-4"},r.a.createElement("textarea",{className:"form-control",value:this.props.room.name,disabled:!0}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleEdit,type:"button"},"Edit name")))}},{key:"handleCancel",value:function(){this.setState({name:void 0,editing:!1})}},{key:"handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleEdit",value:function(){this.setState({editing:!0})}},{key:"handleSave",value:function(){this.props.room&&this.state.name&&this.props.newName(this.props.room.id,this.props.room.name,this.state.name)}}])&&B(t.prototype,n),o&&B(t,o),i}(r.a.PureComponent);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Q(e);if(t){var r=Q(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={menu:function(e,t){return Y(Y({},e),{},{"z-index":5})},option:function(e,t){return Y(Y({},e),{},{backgroundColor:t.isSelected?"#00bc8c":"white",borderBottom:"1px solid black",color:"black",padding:10})}},te=[],ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(h,e);var t,n,o,p=W(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this,e)).state={roomId:void 0},t.handleChange=t.handleChange.bind(K(t)),t.delete=t.delete.bind(K(t)),t.newDescription=t.newDescription.bind(K(t)),t.newItem=t.newItem.bind(K(t)),t.newName=t.newName.bind(K(t)),t}return t=h,o=[{key:"cancelItemEdit",value:function(){$("#itemCreateModal").modal("hide")}},{key:"toggleItem",value:function(){$("#itemCreateModal").modal("show")}},{key:"toggleModal",value:function(){$("#roomCreateModal").modal("show")}}],(n=[{key:"componentDidUpdate",value:function(e){if(this.state.roomId)if(this.props.rooms.has(this.state.roomId)){var t=this.props.rooms.get(this.state.roomId),n=e.rooms.get(this.state.roomId);n&&t.inventory.length>n.inventory.length&&$("#itemCreateModal").modal("hide")}else this.setState({roomId:void 0});e.rooms.size!==this.props.rooms.size&&$("#roomCreateModal").modal("hide")}},{key:"render",value:function(){var e,t=this,n=null,o=new Set,i=Array.from(this.props.rooms.entries()).filter((function(e){return e[1].present})).sort((function(e,t){return Object(u.b)(e[1].name,t[1].name,1)})).map((function(e){var r={label:e[1].name,value:e[0]};return e[0]===t.state.roomId&&(n=r),o.add(e[1].section),r})),p=this.props.selected?"visible":"invisible",m=this.props.rooms.get(null===n?"":n.value);return e=this.props.admin?r.a.createElement("div",{className:"mb-4 row col-12"},r.a.createElement(a.a,{options:i,onChange:this.handleChange,styles:ee,className:"col-lg-10 col-xs-8",value:n}),r.a.createElement("button",{className:"col-lg-2 col-xs-4 btn btn-primary",onClick:h.toggleModal},"New room")):r.a.createElement(a.a,{options:i,onChange:this.handleChange,styles:ee,className:"col-12",value:n}),r.a.createElement("div",{className:p},e,r.a.createElement("div",{className:"row col-12"},this.props.admin&&r.a.createElement(U,{room:m,newName:this.newName}),r.a.createElement(A,{admin:this.props.admin,delete:this.delete,newDescription:this.newDescription,room:m})),r.a.createElement(c.a,{edit:this.props.admin,handleItemChange:this.newItem,inventory:(null==m?void 0:m.inventory)||te,name:"room",selected:!0,sidebar:this.props.sidebar,width:this.props.width}),this.props.admin&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{body:r.a.createElement(N,{rooms:this.props.rooms.size,sections:Array.from(o),socket:this.props.socket}),id:"roomCreate",title:"Create a new room"}),r.a.createElement("div",{className:"mt-4 col-12"},r.a.createElement("button",{type:"button",className:"btn btn-primary col-12",onClick:h.toggleItem},"New item")),r.a.createElement(l.a,{body:r.a.createElement(s.a,{cancelEdit:h.cancelItemEdit,handleItemChange:this.newItem}),id:"itemCreate",title:"Create an item"})))}},{key:"handleChange",value:function(e){this.setState({roomId:e.value})}},{key:"delete",value:function(e){this.props.socket.emit(i.i,e)}},{key:"newDescription",value:function(e,t,n){var o={n:n,o:t,r:e};this.props.socket.emit(i.j,o)}},{key:"newItem",value:function(e,t){if(this.state.roomId&&this.props.rooms.has(this.state.roomId)){var n={n:t,o:e,r:this.props.rooms.get(this.state.roomId).id};this.props.socket.emit(i.l,n)}}},{key:"newName",value:function(e,t,n){var o={n:n,o:t,r:e};this.props.socket.emit(i.n,o)}}])&&H(t.prototype,n),o&&H(t,o),h}(r.a.Component);t.default=ne}}]);